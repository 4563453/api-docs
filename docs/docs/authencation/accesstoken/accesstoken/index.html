<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta name="generator" content="Hugo 0.79.1" />
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Access Tokens #  An access token can be used to query the Glimesh API on behalf of a user. You can also get info about the user that the token belongs to.
Requesting A Token #  Before requesting a token you must have a developer application. You will need your client ID, secret ID, and redirect URL. First you need to have a user authenticate with your app. The user must be directed to https://glimesh.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="" />
<meta property="og:description" content="Access Tokens #  An access token can be used to query the Glimesh API on behalf of a user. You can also get info about the user that the token belongs to.
Requesting A Token #  Before requesting a token you must have a developer application. You will need your client ID, secret ID, and redirect URL. First you need to have a user authenticate with your app. The user must be directed to https://glimesh." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://glimesh.github.io/api-docs/docs/authencation/accesstoken/accesstoken/" />
<meta property="article:modified_time" content="2020-12-26T12:26:05-06:00" />
<title>Access Token | API-Docs</title>
<link rel="manifest" href="/api-docs/manifest.json">
<link rel="icon" href="/api-docs/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/api-docs/book.min.0f40b4e83b0db00d11c595295e7f5f85f51436d20a5b6790534cb30c9f46a201.css" integrity="sha256-D0C06DsNsA0RxZUpXn9fhfUUNtIKW2eQU0yzDJ9GogE=">
<script defer src="/api-docs/en.search.min.eca8c50830f533f3488b0244acd51f38dcf4d35089a49cbe6e843ae6a0ca52ab.js" integrity="sha256-7KjFCDD1M/NIiwJErNUfONz001CJpJy&#43;boQ65qDKUqs="></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir=>
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/api-docs"><img src="/api-docs/glimesh.png" alt="Logo" /><span>API-Docs</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-bf7b3283e3790c00c8caaa140299052b" class="toggle"  />
    <label for="section-bf7b3283e3790c00c8caaa140299052b" class="flex justify-between">
      <a  class="">Api</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ed972e555096d8550e03791bdee2d785" class="toggle"  />
    <label for="section-ed972e555096d8550e03791bdee2d785" class="flex justify-between">
      <a  class="">Query Api</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://glimesh.github.io/api-docs/docs/api/query-api/basic-query/" class="">Basic Query</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://glimesh.github.io/api-docs/docs/api/query-api/nodejs/node-query/" class="">Node Query</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-77b689354c3957af984655a0c2fd22a8" class="toggle" checked />
    <label for="section-77b689354c3957af984655a0c2fd22a8" class="flex justify-between">
      <a  class="">Authencation</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-aebb5af2da1c119d07d9f85dc9a357bc" class="toggle" checked />
    <label for="section-aebb5af2da1c119d07d9f85dc9a357bc" class="flex justify-between">
      <a  class="">Access Token</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://glimesh.github.io/api-docs/docs/authencation/accesstoken/accesstoken/" class=" active">Access Token</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://glimesh.github.io/api-docs/docs/authencation/accesstoken/nodejs/node-access-token/" class="">Node Access Token</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8169bead43f336d6f8a5a3a9e0c253a4" class="toggle"  />
    <label for="section-8169bead43f336d6f8a5a3a9e0c253a4" class="flex justify-between">
      <a  class="">Refresh Token</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://glimesh.github.io/api-docs/docs/authencation/refreshtoken/refreshtoken/" class="">Refresh Token</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://glimesh.github.io/api-docs/docs/contributing/" class="">Contributing</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://glimesh.github.io/api-docs/docs/dev-app/" class="">Dev App</a>
  

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/api-docs/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Access Token</strong>

  <label for="toc-control">
    
    <img src="/api-docs/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav id="TableOfContents">
  <ul>
    <li><a href="#requesting-a-token">Requesting A Token</a></li>
    <li><a href="#common-errors">Common Errors</a></li>
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="access-tokens">
  Access Tokens
  <a class="anchor" href="#access-tokens">#</a>
</h1>
<p>An access token can be used to query the Glimesh API on behalf of a user. You can also get info about the user that the token belongs to.</p>
<h2 id="requesting-a-token">
  Requesting A Token
  <a class="anchor" href="#requesting-a-token">#</a>
</h2>
<p>Before requesting a token you must have a <a href="https://glimesh.tv/users/settings/applications">developer application</a>. You will need your client ID, secret ID, and redirect URL.
<img src="https://i.imgur.com/IIzwkHc.png" alt="app image" /></p>
<p>First you need to have a user authenticate with your app. The user must be directed to <code>https://glimesh.tv/oauth/authorize?response_type=code&amp;state=&amp;client_id=CLIENT_ID&amp;scope=public%20email%20chat%20streamkey&amp;redirect_uri=REDIRECT_URL</code></p>
<p>Make sure to replace your client ID and your redirect URL. The redirect URL must match one of the URL&rsquo;s on your application. Scopes are space separated values that determine what permissions you want from the user. Only request the scopes that you need.</p>
<p>The current scopes are:</p>
<ul>
<li><strong>public</strong>: Get public information about the user and other users on Glimesh.</li>
<li><strong>email</strong>:  View the email of the user.</li>
<li><strong>chat</strong>: View and speak in a chatroom.  <em>Note that speaking through the api is not yet supported.</em></li>
<li><strong>streamkey</strong>: View the streamkey of the user.</li>
</ul>
<p>When the user is sent to the link they will have to accept your app scopes. They will then be sent to your apps redirect URL. Glimesh will send a code inside the URL when they are sent back to your app. You need to extract it from the URL.</p>
<p><code>http://your-app.com/some/area?code=qwertyuiop123</code></p>
<p>Once you have the code you need to make a request to Glimesh. We will exchange the code for an access token.</p>
<p><code>POST https://glimesh.tv/api/oauth/token?grant_type=authorization_code&amp;code=CODE&amp;redirect_uri=REDIRECT_URL&amp;client_id=CLIENTID&amp;client_secret=SECRETID</code></p>
<p>Send a POST request with the URL above replacing the code,redirect url, client ID, and secret ID. Remember to <strong>keep the secret ID hidden</strong> from your users. When Glimesh receives the POST request it will send back the information we want. Once it is parsed it will look like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JS" data-lang="JS">{
  <span style="color:#a6e22e">access_token</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;qwertyuiopo1234567890&#39;</span>,
  <span style="color:#a6e22e">created_at</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;2020-12-14T15:15:29&#39;</span>,
  <span style="color:#a6e22e">expires_in</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">21600</span>,
  <span style="color:#a6e22e">refresh_token</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;qwertyuiop0987654321&#39;</span>,
  <span style="color:#a6e22e">scope</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;public email chat streamkey&#39;</span>,
  <span style="color:#a6e22e">token_type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;bearer&#39;</span>
}

</code></pre></div><p>Now you can query the Glimesh API on behalf of a user. This token will expire after a few hours so you need to refresh it or ask the user for a new one. If you have any questions talk to us in the #dev channel in our <a href="https://discord.gg/Glimesh">Discord</a>.</p>
<blockquote>
<p>Ready to refresh your token? Continue with OAuth <a href="/api-docs/docs/authencation/refreshtoken/refreshtoken/">here</a></p>
</blockquote>
<h2 id="common-errors">
  Common Errors
  <a class="anchor" href="#common-errors">#</a>
</h2>
<p>There are a few errors you may encounter while requesting a token.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JS" data-lang="JS">
{
  <span style="color:#a6e22e">error</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;invalid_grant&#39;</span>,
  <span style="color:#a6e22e">error_description</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;The provided authorization grant is invalid, expired, revoked, does not match the redirection URI used in the authorization request, or was issued to another client.&#39;</span>
}

</code></pre></div><p>This means something is wrong with your URL. You can only use each code once. You must send the request with the <code>grant_type=authorization_code</code> for Glimesh to send you the access token. Ensure all of the data in the URL matches the data in your dev application. Glimesh will refuse any request that is not properly formatted.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JS" data-lang="JS">
{
  <span style="color:#a6e22e">error</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;invalid_request&#39;</span>,
  <span style="color:#a6e22e">error_description</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;The request is missing a required parameter, includes an unsupported parameter value, or is otherwise malformed.&#39;</span>
}

</code></pre></div><p>This is a request error. Some part of your URL is not necessary or missing. Ensure the parameters in the URL are spelled correctly. You should also check that you have all of the required data in the URL.</p>
<p><code>Error: 401 Unauthorized. You must be logged in to access the API.</code></p>
<p>This is an authentication issue. This is commonly seen when querying the API but I added it here because it most likely means you must request another token. You must renew or request a new token and send the API request to Glimesh properly.  Tokens expire after a few hours unless they are renewed.</p>
<blockquote>
<p>Stuck with something? Talk to us in <a href="https://discord.gg/Glimesh">Discord</a>. We would be happy to help you!</p>
</blockquote>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">



  <div><a class="flex align-center" href="https://github.com/Glimesh/api-docs/commit/0c365e229c4dbbce03a439d0119fb9751d753703" title='Last modified by aMytho | December 26, 2020' target="_blank" rel="noopener">
      <img src="/api-docs/svg/calendar.svg" class="book-icon" alt="Calendar" />
      <span>December 26, 2020</span>
    </a>
  </div>



</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#requesting-a-token">Requesting A Token</a></li>
    <li><a href="#common-errors">Common Errors</a></li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












